<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upcoming Events - Masgutova Foundation</title>
    <link rel="stylesheet" href="mf-style-s2.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600;700&display=swap" rel="stylesheet">
    <style>

         .calendar-hero {
            position: relative;
            height: 400px;
            overflow: hidden;
            margin-bottom: .2rem;
        }

        .calendar-hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .calendar-hero-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            background: linear-gradient(transparent, rgba(0, 0, 184, .97), rgba(0, 0, 184, 1));
            color: white;
        }

        .calendar-hero-content h1{
            margin-bottom: .5rem;
            padding-top: 3.5rem;
        }


        .calendar-container {
            max-width: 1200px;
            margin: .2rem auto;
            padding: 0 2rem;
        }

        .calendar-header {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: .2rem;
        }

        .calendar-header h1 {
            color: #0000b8;
            font-size: 2rem;
            margin: 0;
        }

        .month-navigation {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .month-navigation button {
            background: none;
            border: none;
            color: #0000b8;
            cursor: pointer;
            font-size: 1.5rem;
            padding: 0.5rem;
        }

        .current-month {
            font-size: 1.2rem;
            font-weight: 600;
            min-width: 200px;
            text-align: center;
            color: #00008b;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #ddd;
            border: 1px solid #ddd;
        }

        .calendar-header-cell {
            background: #0000b8;
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 600;
        }

        .calendar-cell {
            background: white;
            min-height: 120px;
            padding: 0.5rem;
            position: relative;
        }

        .date-number {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            font-weight: 600;
        }

        .calendar-cell.past-date {
            background: #f5f5f5;
            color: #999;
        }

        .calendar-cell.current-date {
            background: #e6f3ff;
            border: 2px solid #0000b8;
        }

        .calendar-cell.has-event {
            cursor: pointer;
        }

        .event-indicator {
            margin-top: 2rem;
            font-size: 0.9rem;
        }

        .event-time {
            color: #e44e80;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .event-title {
            color: #0000b8;
            margin-bottom: 0.5rem;
        }

        .calendar-page-layout {
            max-width: 1400px;
            margin: 2rem auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
        }

        .event-details-panel {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            position: sticky;
            top: 2rem;
            height: fit-content;
        }

        .event-details-header {
            margin-bottom: 2rem;
        }

        .event-details-header h2 {
            color: #0000b8;
            margin-bottom: 0.5rem;
        }

        .event-details-date {
            color: #e44e80;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .event-details-time {
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .event-details-description {
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .event-details-price {
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .event-details-cta {
            background: #0A47FF;
            color: white;
            padding: 1rem;
            border: none;
            border-radius: 4px;
            width: 100%;
            cursor: pointer;
            font-weight: 600;
        }

        .calendar-cell.selected {
            border: 2px solid #e44e80;
        }

        .no-event-message {
            color: #666;
            text-align: center;
            padding: 2rem;
        }

        @media (max-width: 1024px) {
            .calendar-page-layout {
                grid-template-columns: 1fr 300px;
            }
        }

        @media (max-width: 768px) {
            .calendar-page-layout {
                grid-template-columns: 1fr;
            }

            .calendar-container {
                padding: 0;
            }

            .event-details-panel {
                position: static;
                margin-top: 2rem;
            }

            .calendar-container {
                padding: 0 1rem;
            }

            .calendar-cell {
                min-height: 100px;
            }

            .event-indicator {
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <img src="masgutova-foundation-logo.png" alt="The logo of the Masgutova Foundation is a pink triangle with a heart in the middle. Three orbits of an atom sit behind the heart. One orbit is yellow, another is blue, and the third one is red."> 
        </div>
        <button class="button">Lorem Ipsum Odor Amet</button>        
        <div class="menu-icon">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
        <div class="menu">
            <ul>
                <li><a href="#">For Practitioners</a></li>
                <li><a href="#">For Caregivers</a></li>
                <li><a href="#">Our Courses</a></li>
                <li><a href="#">About Us</a></li>
            </ul>
            <span class="close">Close</span>
        </div>
    </header>

    <section class="page-header">
        <div class="calendar-hero">
            <img src="mf-tri-background-wide-8.jpeg" alt="Therapeutic session in progress">
            <div class="calendar-hero-content">
                <h1>Calendar of Events</h1>
            </div>
        </div>
    </section>

    <main class="calendar-page-layout">
        <div class="calendar-container">
            <div class="calendar-header">
                <div class="month-navigation">
                    <button id="prevMonth">&lt;</button>
                    <div class="current-month" id="currentMonth"></div>
                    <button id="nextMonth">&gt;</button>
                </div>
            </div>

            <div class="calendar-grid" id="calendarGrid">
                <!-- Calendar will be populated by JavaScript -->
            </div>
        </div>

        <div class="event-details-panel" id="eventDetails">
            <!-- Event details will be populated by JavaScript -->
        </div>
    </main>

    <script>
        const events = [
            {
                id: 1,
                date: '2025-02-12',
                start_time: '6:00 PM',
                end_time: '8:00 PM',
                tz: 'EST',
                title: 'Lorem Ipsum Session',
                description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',
                price: '$25',
                location: 'Online',
                duration: '2 hours'
            },
            {
                id: 2,
                date: '2025-02-15',
                start_time: '2:00 PM',
                end_time: '5:00 PM',
                tz: 'EST',
                title: 'Dolor Sit Workshop',
                description: 'Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.',
                price: '$75',
                location: 'Virtual Classroom',
                duration: '3 hours'
            }
        ];

        class Calendar {
            constructor() {
                this.today = new Date();
                this.currentDate = new Date();
                this.currentMonth = this.currentDate.getMonth();
                this.currentYear = this.currentDate.getFullYear();
                
                this.daysOfWeek = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
                this.monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                
                this.setupCalendar();
                this.setupNavigation();
                this.selectedEventId = null;
                this.setupEventHandling();
                
                // Show next upcoming event by default
                this.showNextUpcomingEvent();

            }

            setupNavigation() {
                document.getElementById('prevMonth').addEventListener('click', () => {
                    this.currentMonth--;
                    if (this.currentMonth < 0) {
                        this.currentMonth = 11;
                        this.currentYear--;
                    }
                    this.renderCalendar();
                });

                document.getElementById('nextMonth').addEventListener('click', () => {
                    this.currentMonth++;
                    if (this.currentMonth > 11) {
                        this.currentMonth = 0;
                        this.currentYear++;
                    }
                    this.renderCalendar();
                });
            }

            setupCalendar() {
                const grid = document.getElementById('calendarGrid');
                
                // Add day headers
                this.daysOfWeek.forEach(day => {
                    const headerCell = document.createElement('div');
                    headerCell.className = 'calendar-header-cell';
                    headerCell.textContent = day.slice(0, 3);
                    grid.appendChild(headerCell);
                });

                this.renderCalendar();
            }

            getEventsForDate(date) {
                return events.filter(event => event.date === date);
            }

            formatDateString(date) {
                return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
            }

            showNextUpcomingEvent() {
                const today = new Date();
                const upcomingEvent = events.find(event => {
                    const eventDate = new Date(event.date);
                    return eventDate >= today;
                });

                if (upcomingEvent) {
                    this.selectedEventId = upcomingEvent.id;
                    this.showEventDetails(upcomingEvent);
                }
            }

            setupEventHandling() {
                document.getElementById('calendarGrid').addEventListener('click', (e) => {
                    const cell = e.target.closest('.calendar-cell');
                    if (!cell || !cell.classList.contains('has-event')) return;

                    const dateNumber = cell.querySelector('.date-number').textContent;
                    const eventDate = new Date(this.currentYear, this.currentMonth, dateNumber);
                    const dateString = this.formatDateString(eventDate);
                    
                    const dateEvents = this.getEventsForDate(dateString);
                    if (dateEvents.length > 0) {
                        this.selectedEventId = dateEvents[0].id;
                        this.showEventDetails(dateEvents[0]);
                        this.updateSelectedCell(cell);
                    }
                });
            }

            updateSelectedCell(selectedCell) {
                // Remove previous selection
                const cells = document.querySelectorAll('.calendar-cell');
                cells.forEach(cell => cell.classList.remove('selected'));
                
                // Add selection to clicked cell
                selectedCell.classList.add('selected');
            }

            showEventDetails(event) {
                const detailsPanel = document.getElementById('eventDetails');
                if (!event) {
                    detailsPanel.innerHTML = `
                        <div class="no-event-message">
                            <p>No event selected</p>
                        </div>
                    `;
                    return;
                }

                detailsPanel.innerHTML = `
                    <div class="event-details-header">
                        <h2>${event.title}</h2>
                        <div class="event-details-date">
                            ${new Date(event.date).toLocaleDateString('en-US', {
                                weekday: 'long',
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            })}
                        </div>
                        <div class="event-details-time">
                            ${event.start_time} - ${event.start_time} ${event.tz} <br/>(${event.duration})
                        </div>
                    </div>
                    
                    <div class="event-details-description">
                        ${event.description}
                    </div>
                    
                    <div class="event-details-info">
                        <div class="event-details-location">
                            Location: ${event.location}
                        </div>
                        <div class="event-details-price">
                            Price: ${event.price}
                        </div>
                    </div>

                    <button class="event-details-cta">
                        REGISTER
                    </button>
                `;
            }            

            renderCalendar() {
                const grid = document.getElementById('calendarGrid');
                const monthDisplay = document.getElementById('currentMonth');
                
                // Clear existing calendar cells (except headers)
                while (grid.children.length > 7) {
                    grid.removeChild(grid.lastChild);
                }

                // Update month display
                monthDisplay.textContent = `${this.monthNames[this.currentMonth]} ${this.currentYear}`;

                // Get first day of month and total days
                const firstDay = new Date(this.currentYear, this.currentMonth, 1);
                const lastDay = new Date(this.currentYear, this.currentMonth + 1, 0);
                const totalDays = lastDay.getDate();
                const startingDay = firstDay.getDay();

                // Create calendar cells
                for (let i = 0; i < 42; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'calendar-cell';

                    const dayNumber = i - startingDay + 1;
                    const currentDate = new Date(this.currentYear, this.currentMonth, dayNumber);
                    
                    if (i >= startingDay && i < startingDay + totalDays) {
                        const dateString = this.formatDateString(currentDate);
                        const dateEvents = this.getEventsForDate(dateString);

                        cell.innerHTML = `
                            <div class="date-number">${dayNumber}</div>
                            ${dateEvents.map(event => `
                                <div class="event-indicator">
                                    <div class="event-time">${event.start_time} ${event.tz}</div>
                                    <div class="event-title">${event.title}</div>
                                </div>
                            `).join('')}
                        `;

                        // Add appropriate classes
                        if (currentDate < this.today) {
                            cell.classList.add('past-date');
                        }
                        if (dateEvents.length > 0) {
                            cell.classList.add('has-event');
                        }
                        if (currentDate.toDateString() === this.today.toDateString()) {
                            cell.classList.add('current-date');
                        }
                    }

                    grid.appendChild(cell);
                }

                if (this.selectedEventId) {
                    const selectedEvent = events.find(e => e.id === this.selectedEventId);
                    if (selectedEvent) {
                        const cells = document.querySelectorAll('.calendar-cell');
                        cells.forEach(cell => {
                            const dateNumber = cell.querySelector('.date-number')?.textContent;
                            if (dateNumber) {
                                const cellDate = new Date(this.currentYear, this.currentMonth, dateNumber);
                                const eventDate = new Date(selectedEvent.date);
                                if (cellDate.toDateString() === eventDate.toDateString()) {
                                    cell.classList.add('selected');
                                }
                            }
                        });
                    }
                }
            }
        }                



        // Initialize calendar when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new Calendar();
        });
    </script>

    <div class="newsletter-signup">
        <div class="newsletter">
            <h3>Subscribe to our Newsletter</h3>
            <form>
                <input type="email" id="newsletter-email" name="email" placeholder="Enter your email address" required>
                <button type="submit">Subscribe</button>
            </form>
        </div>
    </div>
    <hr/>
    <footer>
        <div class="footer-links">
            <a href="#">Consectetur</a>
            <a href="#">Fermentum</a>
            <a href="#">Pulvinar</a>
            <a href="#">Porttitor</a>
            <a href="#">Himenaeos</a>
        </div>
        <div class="footer-text">
            Bibendum posuere pellentesque quam non eu eleifend per turpis. Consectetur fermentum pulvinar sem; porttitor urna himenaeos. Nascetur lacinia feugiat ex, a quam neque.
        </div>
    </footer>

    <script src="mf-script.js"></script>
</body>
</html>
